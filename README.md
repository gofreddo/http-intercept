# http-intercept

> Intercepts node http.request. Allows conditional request modification.

## Install

Install with [npm](https://www.npmjs.com/)

```sh
$ npm i http-intercept --save-dev
```

## Usage

```js
  const httpIntercept = require('http-intercept');
  const options = {
    hostname: 'google.com',
    port: 80,
    path: '/upload',
    method: 'get',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
  };

  const interceptOptions = {
    searchValue: 'google',
    replaceValue: 'bing',
    callback: (newOptions) => {
      // newOptions.hostname ==='bing.com
    },
  };

  httpIntercept(interceptOptions);

  http.request(options);
```


```js
  const httpIntercept = require('http-intercept');
  const options = {
    hostname: 'google.com',
    port: 80,
    path: '/upload',
    method: 'get',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
  };

  const interceptOptions = {
    searchValue: 'google',
    replaceValue: 'bing',
    callback: (newOptions) => {
      // newOptions is unchanged because predicate fails.
    },
    predicate: () => false,
  };

  httpIntercept(interceptOptions);

  http.request(options);
```


```js
  const httpIntercept = require('http-intercept');
  const options = {
    hostname: 'google.com',
    port: 80,
    path: '/upload',
    method: 'get',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
  };

  const interceptOptions = {
    searchAndReplaceValues: [{
      google: 'bing',
    },
    {
      '.com': '.org',
    },
    ],
    callback: (newOptions) => {
      // hostname is now 'bing.org'
    },
  };

  httpIntercept(interceptOptions);

  http.request(options);
```

## Running tests

Install dev dependencies:

```sh
$ npm i -d && npm test
```

## Contributing

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/gofreddo/http-intercep/issues)

## Author

**Jeff Wilde**

* [github/](https://github.com/)
* [twitter/](http://twitter.com/)

## License

Copyright Â© 2017 [Jeff Wilde](#Jeff Wilde)
Licensed under the (MIT OR Apache-2.0) license.

***

_This file was generated by [readme-generator](https://github.com/jonschlinkert/readme-generator) on January 26, 2017._
